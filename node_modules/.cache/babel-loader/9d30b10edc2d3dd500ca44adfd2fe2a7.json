{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useReducer } from \"react\";\nimport { createContainer } from \"unstated-next\";\nimport { fetchCustomerListStart, fetchCustomerListSuccess, fetchCustomerListAddSuccess, updateCustomerList } from './customerReducer';\nimport Customer from '../redux/services/customer';\nexport const initialState = {\n  isLoading: null,\n  error: null,\n  customerList: []\n};\nexport const customerData = () => ({\n  type: 'CUSTOMER_LIST'\n});\nexport const saveCustomer1 = data => ({\n  type: 'SAVE_CUSTOMER',\n  payload: data\n}); // export const addCustomer = (data) => ({type: 'ADD_CUSTOMER' , payload: data});\n\nexport const updateCustomer = () => ({\n  type: 'UPDATE_CUSTOMER'\n});\nexport const deleteCustomer = () => ({\n  type: 'DELETE_CUSTOMER'\n});\n\nconst reducerOne = (state, action) => {\n  try {\n    switch (action.type) {\n      case 'CUSTOMER_LIST':\n        {\n          const data = Customer.getCustomerList();\n          return fetchCustomerListSuccess({\n            customerData: data\n          });\n          break;\n        }\n\n      case 'SAVE_CUSTOMER':\n        {\n          if (!(action.payload && action.payload.customerGroup && action.payload.customerGroup.trim())) {\n            alert('Customer group should not be empty!');\n            return;\n          }\n\n          if (!(action.payload && action.payload.customerName && action.payload.customerName.trim())) {\n            alert('Customer name should not be empty!');\n            return;\n          }\n\n          let {\n            customerList\n          } = state;\n          const clonedCustomerList = JSON.parse(JSON.stringify(customerList));\n          const data = {\n            model: \"accounts_receivable.cusgrp\",\n            pk: uuidv4(),\n            fields: {\n              customer_group: action.payload.customerGroup,\n              csgrp_name: action.payload.customerName\n            }\n          };\n          clonedCustomerList.push(data);\n          return fetchCustomerListAddSuccess({\n            customerList: clonedCustomerList\n          });\n          break;\n        }\n\n      case 'UPDATE_CUSTOMER':\n        {\n          const {\n            id,\n            newCustomerName\n          } = action.payload;\n\n          if (!(newCustomerName && newCustomerName.trim())) {\n            alert('Customer name should not be empty!');\n            return;\n          }\n\n          let {\n            customerList\n          } = state;\n          const clonedCustomerList = JSON.parse(JSON.stringify(customerList));\n          const index = clonedCustomerList.findIndex(customer => customer.pk === id);\n          clonedCustomerList[index].fields.csgrp_name = newCustomerName;\n          return updateCustomerList({\n            customerList: clonedCustomerList\n          });\n          break;\n        }\n\n      case 'DELETE_CUSTOMER':\n        {\n          const {\n            id\n          } = action.payload;\n          const {\n            customerList\n          } = state;\n          const clonedCustomerList = JSON.parse(JSON.stringify(customerList));\n          const updatedCustomerList = clonedCustomerList.filter(customer => customer.pk !== id);\n          return updateCustomerList({\n            customerList: updatedCustomerList\n          });\n          break;\n        }\n\n      default:\n        return { ...state\n        };\n        break;\n    }\n  } catch (e) {\n    console.error(`Error occuring while calling an action ${action.type}`, e);\n  }\n};\n\nexport const initialState1 = {\n  isLoading: null,\n  error: null,\n  customer: {\n    customerName: '',\n    customerGroup: ''\n  }\n};\n\nconst reducerTwo = (state, action) => {\n  switch (action.type) {\n    case 'Add_customer':\n      return { ...initialState1,\n        isLoading: true,\n        customer: action.payload\n      };\n      break;\n\n    case 'RESET':\n      return { ...initialState1\n      };\n      break;\n\n    default:\n      return state;\n  }\n};\n\nconst [reducerCombined, initialStateCombined] = combineReducers({\n  reducerOne: [reducerOne, initialState],\n  reducerTwo: [reducerTwo, initialState1] // ...\n\n});\n\nfunction useCounter() {\n  _s();\n\n  const [state, dispatch] = useReducer(reducerCombined, initialStateCombined);\n  return {\n    state,\n    dispatch\n  };\n}\n\n_s(useCounter, \"PhSLBpC7XKzUwnFPswq+3d0KSTU=\");\n\nexport const Counter = createContainer(useCounter);","map":{"version":3,"sources":["/home/rails/react-test-code-contextAPI/src/un-stated/index.js"],"names":["React","useState","useReducer","createContainer","fetchCustomerListStart","fetchCustomerListSuccess","fetchCustomerListAddSuccess","updateCustomerList","Customer","initialState","isLoading","error","customerList","customerData","type","saveCustomer1","data","payload","updateCustomer","deleteCustomer","reducerOne","state","action","getCustomerList","customerGroup","trim","alert","customerName","clonedCustomerList","JSON","parse","stringify","model","pk","uuidv4","fields","customer_group","csgrp_name","push","id","newCustomerName","index","findIndex","customer","updatedCustomerList","filter","e","console","initialState1","reducerTwo","reducerCombined","initialStateCombined","combineReducers","useCounter","dispatch","Counter"],"mappings":"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","sourcesContent":["import React, { useState,useReducer } from \"react\"\nimport { createContainer } from \"unstated-next\"\nimport {\n    fetchCustomerListStart,\n    fetchCustomerListSuccess,\n    fetchCustomerListAddSuccess,\n    updateCustomerList\n  } from './customerReducer';\n  import Customer from '../redux/services/customer';\n export const initialState = {\n    isLoading: null,\n    error: null,\n    customerList: [],\n  }\n\n  export const customerData = () => ({type: 'CUSTOMER_LIST'});\nexport const saveCustomer1 = (data) => ({type: 'SAVE_CUSTOMER', payload: data});\n// export const addCustomer = (data) => ({type: 'ADD_CUSTOMER' , payload: data});\nexport const updateCustomer = () => ({type: 'UPDATE_CUSTOMER'});\nexport const deleteCustomer = () => ({type: 'DELETE_CUSTOMER'})\n\nconst reducerOne = (state,action)=> {\n  \n    try {\n      switch (action.type) {\n        case 'CUSTOMER_LIST': {\n          const data = Customer.getCustomerList();\n         return  fetchCustomerListSuccess({customerData: data})\n          break;\n        }\n        case 'SAVE_CUSTOMER': {\n \n          if (!(action.payload && action.payload.customerGroup && action.payload.customerGroup.trim())) {\n            alert('Customer group should not be empty!');\n            return ;\n          }\n          \n          if (!(action.payload && action.payload.customerName && action.payload.customerName.trim())) {\n            alert('Customer name should not be empty!');\n            return ;\n          }\n            let {customerList} = state;\n            const clonedCustomerList = JSON.parse(JSON.stringify(customerList));\n            const data =  {\n              model: \"accounts_receivable.cusgrp\",\n              pk: uuidv4(),\n              fields: {\n                customer_group: action.payload.customerGroup,\n                csgrp_name: action.payload.customerName\n              }\n            }\n            clonedCustomerList.push(data)\n           \n             return fetchCustomerListAddSuccess({customerList: clonedCustomerList});\n          break;\n        }\n        case 'UPDATE_CUSTOMER': {\n            \n            const {id, newCustomerName} = action.payload;\n          if (!(newCustomerName && newCustomerName.trim())) {\n            alert('Customer name should not be empty!');\n            return;\n          }\n          let {customerList} = state;\n          const clonedCustomerList = JSON.parse(JSON.stringify(customerList));\n          const index = clonedCustomerList.findIndex((customer) => customer.pk === id);\n          clonedCustomerList[index].fields.csgrp_name = newCustomerName;\n        return  updateCustomerList({ customerList: clonedCustomerList })\n          break;\n        }\n        case 'DELETE_CUSTOMER': {\n          const {id} = action.payload;\n          const {customerList} = state;\n          const clonedCustomerList = JSON.parse(JSON.stringify(customerList));\n          const updatedCustomerList = clonedCustomerList.filter((customer) => customer.pk !== id);\n         return updateCustomerList({ customerList: updatedCustomerList });\n          break;\n        }\n        default:\n          return {\n            ...state\n          }\n          break\n      }\n    } catch (e) {\n      console.error(`Error occuring while calling an action ${action.type}`, e);\n    }\n  }\n\n  export const initialState1 = {\n    isLoading: null,\n    error: null,\n    customer:{\n        customerName: '',\n        customerGroup: ''\n    }\n\n  }\nconst reducerTwo = (state,action)=>{\n    switch(action.type){\n        case 'Add_customer':\n            return {\n              ...initialState1,\n              isLoading: true,\n              customer: action.payload  \n            }\n            break;\n\n        case 'RESET':\n          \n          return {\n            ...initialState1\n          }\n          break;\n\n          default:\n            return state;\n      }\n}\n\n  const [reducerCombined, initialStateCombined] = combineReducers({\n    reducerOne: [reducerOne, initialState],\n    reducerTwo: [reducerTwo, initialState1],\n    // ...\n  });\n\n  function useCounter(){\n    const [state, dispatch] = useReducer(reducerCombined, initialStateCombined);\n    return {state, dispatch}\n  }\n  \n\n\n\nexport const Counter  = createContainer(useCounter);\n\n\n"]},"metadata":{},"sourceType":"module"}